
{% extends "layout.html" %}

    {% block body %}

        {% with msgs = get_flashed_messages() %}

            {% if msgs  %}

                {% for msg in msgs %}

                  
                <div class="alert alert-warning alert-dismissible fade show" role="alert">

                    {{  msg  }}
                    <button type="button" class="btn btn-primary btnAlertClose" data-bs-dismiss="alert" aria-label="Close">X</button>
                    
                </div>

                {% endfor %}

            {% endif %}

        {% endwith %}

        <form action="/add_contact" method="POST">

            <div class="form-group">
                <input class="form-control" type="text" name="fullname" placeholder="Full Name" autocomplete="off" />
            </div>

            <div class="form-group">
               <input type="text" class="form-control" name="phone" placeholder="Phone" autocomplete="off" /> 
            </div>

            <div class="form-group">
                 <input type="email" class="form-control" name="email" placeholder="Email" autocomplete="off" />
            </div>

            <div class="form-group">
                 <button class="form-control btn btn-primary" type="submit">Add</button>
            </div>


        </form>

        <table class="table table-hover table-dark">

            <thead>

                <tr class="text-center">
                    <th>Fullname</th>
                    <th>Phone</th>
                    <th>Email</th>
                    <th colspan="2">Actions</th>
                </tr>

            </thead>

            <tbody>

                {% for contact in contacts %}

                    <tr class="text-center">
                        <td>{{ contact[1] }}</td>
                        <td>{{ contact[2] }}</td>
                        <td>{{ contact.3 }}</td>
                        <td><a href="/get_contact/{{ contact.0 }}">Update</a></td>
                        <td><a href="/delete_contact/{{ contact.0 }}">Delete</a></td>
                    </tr>

                {% endfor %}

            </tbody>

        </table>

    {% endblock %}
